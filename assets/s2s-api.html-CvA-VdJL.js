import{_ as s,c as n,o as a,a as e}from"./app-Cbpmld7m.js";const t={},p=e(`<h1 id="s2s-api" tabindex="-1"><a class="header-anchor" href="#s2s-api"><span>S2S API</span></a></h1><p>Melody Auth S2S API provides capabilities for server applications to manage resources.</p><h2 id="get-started" tabindex="-1"><a class="header-anchor" href="#get-started"><span>Get Started</span></a></h2><p>To get started, obtain an access_token from the /token endpoint by using your clientId and clientSecret as the Basic Auth header. Use this access_token as a Bearer token in the Authorization header for subsequent requests.</p><ul><li>HTTP Method: <code>POST</code></li><li>Content Type: <code>application/x-www-form-urlencoded</code></li><li>URL: <code>[melody_auth_server_url]/oauth2/v1/token</code></li></ul><h3 id="parameters" tabindex="-1"><a class="header-anchor" href="#parameters"><span>Parameters</span></a></h3><table><thead><tr><th>Property</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>grant_type</code></td><td>&#39;client_credentials&#39;</td><td>true</td><td>Indicates the use of client credentials to exchange for a token</td></tr><tr><td><code>scope</code></td><td>string</td><td>true</td><td>Scopes requested (e.g., &#39;read_user write_user&#39;)</td></tr></tbody></table><h3 id="request-example" tabindex="-1"><a class="header-anchor" href="#request-example"><span>Request example</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> credentials <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>clientId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>clientSecret<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> encodedCredentials <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>credentials<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">&#39;base64&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">grant_type</span><span class="token operator">:</span> <span class="token string">&#39;client_credentials&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">scope</span><span class="token operator">:</span> <span class="token string">&#39;read_user write_user&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">const</span> urlEncodedData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth2/v1/token&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&#39;Content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/x-www-form-urlencoded&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&#39;Authorization&#39;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">basic </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>encodedCredentials<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">body</span><span class="token operator">:</span> urlEncodedData<span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="response-example" tabindex="-1"><a class="header-anchor" href="#response-example"><span>Response example</span></a></h2><div class="language-JSON line-numbers-mode" data-highlighter="prismjs" data-ext="JSON" data-title="JSON"><pre class="language-JSON"><code><span class="line">{</span>
<span class="line">  &quot;access_token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyMzQ1NiIsInNjb3BlIjoicmVhZF91c2VyIHdyaXRlX3VzZXIiLCJpYXQiOjE3MjE0MjE4MTcsImV4cCI6MTcyMTQyNTQxN30.blhriLgm67tkL89tVLdeNN5nl4EUssy6FIfp4kTOlqM&quot;,</span>
<span class="line">  &quot;expires_in&quot;:3600,</span>
<span class="line">  &quot;expires_on&quot;:1721425417,</span>
<span class="line">  &quot;token_type&quot;:&quot;Bearer&quot;,</span>
<span class="line">  &quot;scope&quot;:&quot;read_user write_user&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="get-users" tabindex="-1"><a class="header-anchor" href="#get-users"><span>Get Users</span></a></h2><ul><li>HTTP Method: <code>GET</code></li><li>Content Type: <code>application/json</code></li><li>URL: <code>[melody_auth_server_url]/api/v1/users</code></li></ul><h3 id="query-parameters" tabindex="-1"><a class="header-anchor" href="#query-parameters"><span>Query Parameters</span></a></h3><table><thead><tr><th>Property</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>include_disabled</code></td><td>&#39;true&#39;</td><td>false</td><td>If disabled users should be included.</td></tr></tbody></table><h3 id="request-example-1" tabindex="-1"><a class="header-anchor" href="#request-example-1"><span>Request example</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/api/v1/users&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&#39;Content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&#39;Authorization&#39;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>access_token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="get-user" tabindex="-1"><a class="header-anchor" href="#get-user"><span>Get User</span></a></h2><ul><li>HTTP Method: <code>GET</code></li><li>Content Type: <code>application/json</code></li><li>URL: <code>[melody_auth_server_url]/api/v1/users/:authId</code></li></ul><h3 id="request-example-2" tabindex="-1"><a class="header-anchor" href="#request-example-2"><span>Request example</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/api/v1/users/d638bb77-2883-4bce-ad4c-9fe01319fb86&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&#39;Content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&#39;Authorization&#39;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>access_token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="disable-user" tabindex="-1"><a class="header-anchor" href="#disable-user"><span>Disable User</span></a></h2><ul><li>HTTP Method: <code>PUT</code></li><li>Content Type: <code>application/json</code></li><li>URL: <code>[melody_auth_server_url]/api/v1/users/:authId/disable</code></li></ul><h3 id="request-example-3" tabindex="-1"><a class="header-anchor" href="#request-example-3"><span>Request example</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/api/v1/users/d638bb77-2883-4bce-ad4c-9fe01319fb86/disable&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;PUT&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&#39;Content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&#39;Authorization&#39;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>access_token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="enable-user" tabindex="-1"><a class="header-anchor" href="#enable-user"><span>Enable User</span></a></h2><ul><li>HTTP Method: <code>PUT</code></li><li>Content Type: <code>application/json</code></li><li>URL: <code>[melody_auth_server_url]/api/v1/users/:authId/enable</code></li></ul><h3 id="request-example-4" tabindex="-1"><a class="header-anchor" href="#request-example-4"><span>Request example</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/api/v1/users/d638bb77-2883-4bce-ad4c-9fe01319fb86/enable&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;PUT&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&#39;Content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&#39;Authorization&#39;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>access_token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="send-verification-email" tabindex="-1"><a class="header-anchor" href="#send-verification-email"><span>Send Verification Email</span></a></h2><ul><li>HTTP Method: <code>POST</code></li><li>Content Type: <code>application/json</code></li><li>URL: <code>[melody_auth_server_url]/api/v1/users/:authId/verify-email</code></li></ul><h3 id="request-example-5" tabindex="-1"><a class="header-anchor" href="#request-example-5"><span>Request example</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/api/v1/users/d638bb77-2883-4bce-ad4c-9fe01319fb86/verify-email&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&#39;Content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&#39;Authorization&#39;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>access_token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,33),l=[p];function i(o,c){return a(),n("div",null,l)}const u=s(t,[["render",i],["__file","s2s-api.html.vue"]]),d=JSON.parse('{"path":"/s2s-api.html","title":"S2S API","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Get Started","slug":"get-started","link":"#get-started","children":[{"level":3,"title":"Parameters","slug":"parameters","link":"#parameters","children":[]},{"level":3,"title":"Request example","slug":"request-example","link":"#request-example","children":[]}]},{"level":2,"title":"Response example","slug":"response-example","link":"#response-example","children":[]},{"level":2,"title":"Get Users","slug":"get-users","link":"#get-users","children":[{"level":3,"title":"Query Parameters","slug":"query-parameters","link":"#query-parameters","children":[]},{"level":3,"title":"Request example","slug":"request-example-1","link":"#request-example-1","children":[]}]},{"level":2,"title":"Get User","slug":"get-user","link":"#get-user","children":[{"level":3,"title":"Request example","slug":"request-example-2","link":"#request-example-2","children":[]}]},{"level":2,"title":"Disable User","slug":"disable-user","link":"#disable-user","children":[{"level":3,"title":"Request example","slug":"request-example-3","link":"#request-example-3","children":[]}]},{"level":2,"title":"Enable User","slug":"enable-user","link":"#enable-user","children":[{"level":3,"title":"Request example","slug":"request-example-4","link":"#request-example-4","children":[]}]},{"level":2,"title":"Send Verification Email","slug":"send-verification-email","link":"#send-verification-email","children":[{"level":3,"title":"Request example","slug":"request-example-5","link":"#request-example-5","children":[]}]}],"git":{"updatedTime":1721595601000,"contributors":[{"name":"Baozier","email":"byn9826@gmail.com","commits":3}]},"filePathRelative":"s2s-api.md"}');export{u as comp,d as data};
